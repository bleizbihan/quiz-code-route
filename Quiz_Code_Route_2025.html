<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Quiz Code de la Route 2025 — 40 Questions Aléatoires</title>
  <style>
    body { font-family: Arial, sans-serif; background: #fefefe; margin: 20px; }
    h1 { text-align: center; color: #2c3e50; }
    .question { margin: 15px 0; padding: 10px; border: 1px solid #ccc; border-radius: 8px; background: #fafafa; }
    .answers label { display: block; margin: 5px 0; cursor: pointer; }
    button { margin: 20px 0; padding: 10px 20px; font-size: 16px; border: none; background: #3498db; color: white; border-radius: 8px; cursor: pointer; }
    button:hover { background: #2980b9; }
    .result { font-size: 18px; margin-top: 20px; }
    .correct { color: green; }
    .wrong { color: red; }
  </style>
</head>
<body>
  <h1>Quiz Code de la Route — 40 Questions Aléatoires</h1>
  <div id="quiz"></div>
  <button onclick="submitQuiz()">Corriger</button>
  <div id="result" class="result"></div>

<script>
// Base de questions (exemples représentatifs, à compléter selon tes besoins)
const allQuestions = [
  {q: "1. La vitesse maximale sur autoroute par temps sec est 130 km/h.", a:["Vrai","Faux"], correct:0},
  {q: "2. En zone 30, la vitesse est limitée à 30 km/h.", a:["Vrai","Faux"], correct:0},
  {q: "3. Le taux maximum pour le permis probatoire est 0,2 g/L.", a:["Vrai","Faux"], correct:0},
  {q: "4. On peut franchir une ligne continue pour dépasser.", a:["Vrai","Faux"], correct:1},
  {q: "5. Les piétons sont prioritaires aux passages piétons.", a:["Vrai","Faux"], correct:0},
  // Ajoute ici des dizaines d’autres questions couvrant les 10 thèmes...
];

// Tirage aléatoire de 40 questions
function getRandomQuestions(n) {
  const shuffled = allQuestions.sort(() => 0.5 - Math.random());
  return shuffled.slice(0, n);
}

const quizContainer = document.getElementById('quiz');
const selectedQuestions = getRandomQuestions(40);

selectedQuestions.forEach((item, idx) => {
  const div = document.createElement('div');
  div.className = 'question';
  div.innerHTML = `<strong>${item.q}</strong>`;
  item.a.forEach((ans, i) => {
    const id = `q${idx}_a${i}`;
    div.innerHTML += `
      <label><input type="radio" name="q${idx}" value="${i}" id="${id}"> ${ans}</label>`;
  });
  quizContainer.appendChild(div);
});

function submitQuiz() {
  let score = 0;
  selectedQuestions.forEach((item, idx) => {
    const radios = document.getElementsByName(`q${idx}`);
    let selected = null;
    for (const r of radios) if (r.checked) selected = parseInt(r.value);
    if (selected === item.correct) score++;
  });
  document.getElementById('result').innerHTML = `<strong>Tu as obtenu ${score} / 40.</strong>` +
    (score >= 35 ? 
      `<p class="correct">Félicitations, tu aurais réussi l'examen (≥ 35 bonnes réponses).</p>` : 
      `<p class="wrong">Il faut au moins 35 bonnes réponses pour réussir.</p>`);
}
</script>
</body>
</html>
